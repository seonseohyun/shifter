
server_shift_scheduler_v2.py 서버의 json 응답 형태를 아래와같이 변경해야한다.

성공시 응답

{
  "protocol": "py_gen_schedule",
  "resp": "success",
  "data": [
    {
      "date": "2025-09-01",
      "shift": "Day",
      "hours": 8,
      "people": [
        {
          "name": "김간호사",
          "staff_id": 1001,
          "grade": 3,

        },
        {
          "name": "이간호사",
          "staff_id": 1002,
          "grade": 3

        }
      ]
    }
  ]
}

실패시 응답 

{
  "protocol": "py_gen_schedule",
  "resp": "fail",
  "data": []
}

요청 
"{
protocol : "py_gen_timetable"
data: {
  "staff_data": {
    "staff": [
      {
        "name": "김간호사",
        "staff_id": 1001,
        "grade": 3,
        "total_monthly_work_hours": 195
      },....
      
    ]
  },
  "position": "간호",
  "target_month": "2025-09",
  "custom_rules": {
    "shifts": ["Day", "Evening", "Night", "Off"],
    "shift_hours": {
      "Day": 8,
      "Evening": 8,
      "Night": 8,
      "Off": 0
    },
    "night_shifts": ["Night"],
    "off_shifts": ["Off"]
   }
  }
}

응답 
{
  "protocol": "py_gen_schedule",
  "resp": "success/fail",
  "data": [
    {
      "date": "2025-09-01",
      "shift": "Day",
      "hours": 8,
      "people": [
        {
          "name": "김간호사",
          "staff_id": 1001,
          "grade": 3,

        },
        {
          "name": "이간호사",
          "staff_id": 1002,
          "grade": 3

        }
      ]
    }
  ]
}


이번엔 인수인계내용을 openapi를 활용하여 요청후 처리해야한다.

cpp 클라이언트 요청 json
{
  "task": "summarize_handover",
  "input_text": "오늘 인수인계 내용은 다음과 같습니다...\n- A 환자 수술 예정\n- B 약물 변경\n- ...",
  
}

prompt = "넌 Master Handover AI야. 
간결하고 명확하게 인수인계 내용을 요약하는 전문가야.

입력된 내용을 빠르게 파악할 수 있도록 핵심만 뽑아 요약해줘.  
중요한 일정, 변경사항, 위험요소는 우선순위로 정리하고,  
불필요한 말은 생략하고 실무에 바로 도움이 되도록 써줘."



python 서버 응답형식
성공시
{
  "status": "success",
  "task": "summarize_handover",
  "result": "A 환자는 오늘 수술 예정이며, B 환자는 약물이 변경되었습니다. 기타 사항은 생략되었습니다."
}
실패시
{
  "status": "error",
  "task": "summarize_handover",
  "reason": "input_text가 비어 있습니다."
}

server_shift_scheduler_v2.py 서버는  
1. 근무표 생성 기능
2. openai 를 활용한 인수인계 요약 기능을 처리하여 응답해야해



