2025-08-08 20:23:09 [INFO] Starting Optimized Shift Scheduler Server
2025-08-08 20:23:09 [INFO] Shift scheduler server started on 0.0.0.0:6004
2025-08-08 20:23:09 [INFO] Server supports both binary protocol (C++) and legacy protocol (Python)
2025-08-08 20:23:09 [INFO] Binary protocol uses little-endian format for x86/x64 compatibility
2025-08-08 20:23:09 [INFO] Enhanced endian mismatch detection and error reporting enabled
2025-08-08 20:23:22 [INFO] Client connected: ('127.0.0.1', 57853)
2025-08-08 20:23:22 [ERROR] [PROTOCOL] ğŸš¨ ENDIAN MISMATCH detected from ('127.0.0.1', 57853)! 
2025-08-08 20:23:22 [ERROR] [PROTOCOL] Client sent big-endian header: totalSize=133, jsonSize=133
2025-08-08 20:23:22 [ERROR] [PROTOCOL] Server interpreted as little-endian: totalSize=2231369728, jsonSize=2231369728
2025-08-08 20:23:22 [ERROR] [PROTOCOL] Client must use little-endian format for x86 compatibility!
2025-08-08 20:23:22 [INFO] [('127.0.0.1', 57853)] Detected protocol: endian_error
2025-08-08 20:23:22 [WARNING] [('127.0.0.1', 57853)] Endian mismatch detected - consuming invalid header and sending error response
2025-08-08 20:23:22 [INFO] [('127.0.0.1', 57853)] Endian mismatch error response sent successfully
2025-08-08 20:23:22 [INFO] Client connected: ('127.0.0.1', 57854)
2025-08-08 20:23:22 [INFO] [('127.0.0.1', 57854)] Detected protocol: binary
2025-08-08 20:23:22 [INFO] [BINARY] Successfully parsed JSON from ('127.0.0.1', 57854)
2025-08-08 20:23:22 [INFO] Processing task request: summarize_handover
2025-08-08 20:23:22 [INFO] === ì¸ìˆ˜ì¸ê³„ ìš”ì•½ ì‹œì‘ ===
2025-08-08 20:23:22 [INFO] ì…ë ¥ í…ìŠ¤íŠ¸ ê¸¸ì´: 26 ë¬¸ì
2025-08-08 20:23:22 [INFO] OpenAI API í˜¸ì¶œ ì¤‘...
2025-08-08 20:23:23 [INFO] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-08 20:23:23 [INFO] ìš”ì•½ ì™„ë£Œ: 0.87ì´ˆ
2025-08-08 20:23:23 [INFO] ìš”ì•½ ê²°ê³¼ ê¸¸ì´: 33 ë¬¸ì
2025-08-08 20:23:23 [INFO] Response logged successfully: data/handover_response_20250808_202322.json
2025-08-08 20:23:23 [INFO] [('127.0.0.1', 57854)] Request processed successfully using binary protocol
2025-08-08 20:24:27 [INFO] Client connected: ('127.0.0.1', 57964)
2025-08-08 20:24:27 [INFO] [('127.0.0.1', 57964)] Detected protocol: binary
2025-08-08 20:24:27 [INFO] [BINARY] Successfully parsed JSON from ('127.0.0.1', 57964)
2025-08-08 20:24:27 [INFO] Processing task request: summarize_handover
2025-08-08 20:24:27 [INFO] === ì¸ìˆ˜ì¸ê³„ ìš”ì•½ ì‹œì‘ ===
2025-08-08 20:24:27 [INFO] ì…ë ¥ í…ìŠ¤íŠ¸ ê¸¸ì´: 45 ë¬¸ì
2025-08-08 20:24:27 [INFO] OpenAI API í˜¸ì¶œ ì¤‘...
2025-08-08 20:24:29 [INFO] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-08 20:24:29 [INFO] ìš”ì•½ ì™„ë£Œ: 1.38ì´ˆ
2025-08-08 20:24:29 [INFO] ìš”ì•½ ê²°ê³¼ ê¸¸ì´: 52 ë¬¸ì
2025-08-08 20:24:29 [INFO] Response logged successfully: data/handover_response_20250808_202427.json
2025-08-08 20:24:29 [INFO] [('127.0.0.1', 57964)] Request processed successfully using binary protocol
2025-08-08 20:24:29 [INFO] Client connected: ('127.0.0.1', 57967)
2025-08-08 20:24:29 [INFO] [('127.0.0.1', 57967)] Detected protocol: legacy
2025-08-08 20:24:29 [INFO] [LEGACY] Successfully parsed JSON from ('127.0.0.1', 57967)
2025-08-08 20:24:29 [INFO] Processing task request: summarize_handover
2025-08-08 20:24:29 [INFO] === ì¸ìˆ˜ì¸ê³„ ìš”ì•½ ì‹œì‘ ===
2025-08-08 20:24:29 [INFO] ì…ë ¥ í…ìŠ¤íŠ¸ ê¸¸ì´: 47 ë¬¸ì
2025-08-08 20:24:29 [INFO] OpenAI API í˜¸ì¶œ ì¤‘...
2025-08-08 20:24:30 [INFO] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-08 20:24:30 [INFO] ìš”ì•½ ì™„ë£Œ: 1.55ì´ˆ
2025-08-08 20:24:30 [INFO] ìš”ì•½ ê²°ê³¼ ê¸¸ì´: 83 ë¬¸ì
2025-08-08 20:24:30 [INFO] Response logged successfully: data/handover_response_20250808_202429.json
2025-08-08 20:24:30 [INFO] [('127.0.0.1', 57967)] Request processed successfully using legacy protocol
2025-08-08 20:24:30 [INFO] Client connected: ('127.0.0.1', 57968)
2025-08-08 20:24:30 [ERROR] [PROTOCOL] ğŸš¨ ENDIAN MISMATCH detected from ('127.0.0.1', 57968)! 
2025-08-08 20:24:30 [ERROR] [PROTOCOL] Client sent big-endian header: totalSize=113, jsonSize=113
2025-08-08 20:24:30 [ERROR] [PROTOCOL] Server interpreted as little-endian: totalSize=1895825408, jsonSize=1895825408
2025-08-08 20:24:30 [ERROR] [PROTOCOL] Client must use little-endian format for x86 compatibility!
2025-08-08 20:24:30 [INFO] [('127.0.0.1', 57968)] Detected protocol: endian_error
2025-08-08 20:24:30 [WARNING] [('127.0.0.1', 57968)] Endian mismatch detected - consuming invalid header and sending error response
2025-08-08 20:24:30 [INFO] [('127.0.0.1', 57968)] Endian mismatch error response sent successfully
2025-08-08 20:24:30 [INFO] Client connected: ('127.0.0.1', 57969)
2025-08-08 20:24:30 [INFO] [('127.0.0.1', 57969)] Detected protocol: binary
2025-08-08 20:24:30 [INFO] [BINARY] Successfully parsed JSON from ('127.0.0.1', 57969)
2025-08-08 20:24:30 [INFO] Processing task request: summarize_handover
2025-08-08 20:24:30 [INFO] === ì¸ìˆ˜ì¸ê³„ ìš”ì•½ ì‹œì‘ ===
2025-08-08 20:24:30 [INFO] ì…ë ¥ í…ìŠ¤íŠ¸ ê¸¸ì´: 27 ë¬¸ì
2025-08-08 20:24:30 [INFO] OpenAI API í˜¸ì¶œ ì¤‘...
2025-08-08 20:24:31 [INFO] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-08 20:24:31 [INFO] ìš”ì•½ ì™„ë£Œ: 1.09ì´ˆ
2025-08-08 20:24:31 [INFO] ìš”ì•½ ê²°ê³¼ ê¸¸ì´: 91 ë¬¸ì
2025-08-08 20:24:31 [INFO] Response logged successfully: data/handover_response_20250808_202430.json
2025-08-08 20:24:31 [INFO] [('127.0.0.1', 57969)] Request processed successfully using binary protocol
2025-08-08 20:24:31 [INFO] Client connected: ('127.0.0.1', 57970)
2025-08-08 20:24:31 [INFO] [('127.0.0.1', 57970)] Detected protocol: binary
2025-08-08 20:24:31 [INFO] [BINARY] Successfully parsed JSON from ('127.0.0.1', 57970)
2025-08-08 20:24:31 [INFO] Processing task request: summarize_handover
2025-08-08 20:24:31 [INFO] === ì¸ìˆ˜ì¸ê³„ ìš”ì•½ ì‹œì‘ ===
2025-08-08 20:24:31 [INFO] ì…ë ¥ í…ìŠ¤íŠ¸ ê¸¸ì´: 27 ë¬¸ì
2025-08-08 20:24:31 [INFO] OpenAI API í˜¸ì¶œ ì¤‘...
2025-08-08 20:24:34 [INFO] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-08 20:24:34 [INFO] ìš”ì•½ ì™„ë£Œ: 2.84ì´ˆ
2025-08-08 20:24:34 [INFO] ìš”ì•½ ê²°ê³¼ ê¸¸ì´: 201 ë¬¸ì
2025-08-08 20:24:34 [INFO] Response logged successfully: data/handover_response_20250808_202431.json
2025-08-08 20:24:34 [INFO] [('127.0.0.1', 57970)] Request processed successfully using binary protocol
2025-08-08 20:24:34 [INFO] Client connected: ('127.0.0.1', 57971)
2025-08-08 20:24:34 [INFO] [('127.0.0.1', 57971)] Detected protocol: binary
2025-08-08 20:24:34 [INFO] [BINARY] Successfully parsed JSON from ('127.0.0.1', 57971)
2025-08-08 20:24:34 [INFO] Processing task request: summarize_handover
2025-08-08 20:24:34 [INFO] === ì¸ìˆ˜ì¸ê³„ ìš”ì•½ ì‹œì‘ ===
2025-08-08 20:24:34 [INFO] ì…ë ¥ í…ìŠ¤íŠ¸ ê¸¸ì´: 27 ë¬¸ì
2025-08-08 20:24:34 [INFO] OpenAI API í˜¸ì¶œ ì¤‘...
2025-08-08 20:24:38 [INFO] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-08 20:24:38 [INFO] ìš”ì•½ ì™„ë£Œ: 3.50ì´ˆ
2025-08-08 20:24:38 [INFO] ìš”ì•½ ê²°ê³¼ ê¸¸ì´: 143 ë¬¸ì
2025-08-08 20:24:38 [INFO] Response logged successfully: data/handover_response_20250808_202434.json
2025-08-08 20:24:38 [INFO] [('127.0.0.1', 57971)] Request processed successfully using binary protocol
2025-08-08 20:24:38 [INFO] Client connected: ('127.0.0.1', 57972)
2025-08-08 20:24:38 [INFO] [('127.0.0.1', 57972)] Detected protocol: binary
2025-08-08 20:24:38 [INFO] [BINARY] Successfully parsed JSON from ('127.0.0.1', 57972)
2025-08-08 20:24:38 [INFO] Processing task request: summarize_handover
2025-08-08 20:24:38 [INFO] === ì¸ìˆ˜ì¸ê³„ ìš”ì•½ ì‹œì‘ ===
2025-08-08 20:24:38 [INFO] ì…ë ¥ í…ìŠ¤íŠ¸ ê¸¸ì´: 27 ë¬¸ì
2025-08-08 20:24:38 [INFO] OpenAI API í˜¸ì¶œ ì¤‘...
2025-08-08 20:24:39 [INFO] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-08 20:24:39 [INFO] ìš”ì•½ ì™„ë£Œ: 0.98ì´ˆ
2025-08-08 20:24:39 [INFO] ìš”ì•½ ê²°ê³¼ ê¸¸ì´: 50 ë¬¸ì
2025-08-08 20:24:39 [INFO] Response logged successfully: data/handover_response_20250808_202438.json
2025-08-08 20:24:39 [INFO] [('127.0.0.1', 57972)] Request processed successfully using binary protocol
2025-08-08 20:24:39 [INFO] Client connected: ('127.0.0.1', 57973)
2025-08-08 20:24:39 [INFO] [('127.0.0.1', 57973)] Detected protocol: binary
2025-08-08 20:24:39 [INFO] [BINARY] Successfully parsed JSON from ('127.0.0.1', 57973)
2025-08-08 20:24:39 [INFO] Processing task request: summarize_handover
2025-08-08 20:24:39 [INFO] === ì¸ìˆ˜ì¸ê³„ ìš”ì•½ ì‹œì‘ ===
2025-08-08 20:24:39 [INFO] ì…ë ¥ í…ìŠ¤íŠ¸ ê¸¸ì´: 27 ë¬¸ì
2025-08-08 20:24:39 [INFO] OpenAI API í˜¸ì¶œ ì¤‘...
2025-08-08 20:24:40 [INFO] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-08 20:24:40 [INFO] ìš”ì•½ ì™„ë£Œ: 1.47ì´ˆ
2025-08-08 20:24:40 [INFO] ìš”ì•½ ê²°ê³¼ ê¸¸ì´: 93 ë¬¸ì
2025-08-08 20:24:40 [INFO] Response logged successfully: data/handover_response_20250808_202439.json
2025-08-08 20:24:40 [INFO] [('127.0.0.1', 57973)] Request processed successfully using binary protocol
2025-08-08 20:32:46 [INFO] Client connected: ('127.0.0.1', 58619)
2025-08-08 20:32:46 [INFO] [('127.0.0.1', 58619)] Detected protocol: binary
2025-08-08 20:32:46 [INFO] [BINARY] Successfully parsed JSON from ('127.0.0.1', 58619)
2025-08-08 20:32:46 [INFO] Processing task request: summarize_handover
2025-08-08 20:32:46 [INFO] === ì¸ìˆ˜ì¸ê³„ ìš”ì•½ ì‹œì‘ ===
2025-08-08 20:32:46 [INFO] ì…ë ¥ í…ìŠ¤íŠ¸ ê¸¸ì´: 51 ë¬¸ì
2025-08-08 20:32:46 [INFO] OpenAI API í˜¸ì¶œ ì¤‘...
2025-08-08 20:32:47 [INFO] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-08 20:32:47 [INFO] ìš”ì•½ ì™„ë£Œ: 1.23ì´ˆ
2025-08-08 20:32:47 [INFO] ìš”ì•½ ê²°ê³¼ ê¸¸ì´: 69 ë¬¸ì
2025-08-08 20:32:47 [INFO] Response logged successfully: data/handover_response_20250808_203246.json
2025-08-08 20:32:47 [INFO] [('127.0.0.1', 58619)] Request processed successfully using binary protocol
2025-08-08 20:42:39 [INFO] Client connected: ('127.0.0.1', 59281)
2025-08-08 20:42:39 [INFO] [('127.0.0.1', 59281)] Detected protocol: binary
2025-08-08 20:42:39 [INFO] [BINARY] Successfully parsed JSON from ('127.0.0.1', 59281)
2025-08-08 20:42:39 [INFO] Processing protocol request: py_req_handover_summary
2025-08-08 20:42:39 [INFO] Processing schedule request for position: default
2025-08-08 20:42:39 [ERROR] Validation error: Missing staff_data.staff field
2025-08-08 20:42:39 [INFO] Response logged successfully: data/schedule_response_20250808_204239.json
2025-08-08 20:42:39 [INFO] [('127.0.0.1', 59281)] Request processed successfully using binary protocol
2025-08-08 20:47:38 [INFO] Client connected: ('127.0.0.1', 59776)
2025-08-08 20:47:38 [INFO] [('127.0.0.1', 59776)] Detected protocol: binary
2025-08-08 20:47:38 [INFO] [BINARY] Successfully parsed JSON from ('127.0.0.1', 59776)
2025-08-08 20:47:38 [INFO] Processing protocol request: py_req_handover_summary
2025-08-08 20:47:38 [INFO] Processing schedule request for position: default
2025-08-08 20:47:38 [ERROR] Validation error: Missing staff_data.staff field
2025-08-08 20:47:38 [INFO] Response logged successfully: data/schedule_response_20250808_204738.json
2025-08-08 20:47:38 [INFO] [('127.0.0.1', 59776)] Request processed successfully using binary protocol
2025-08-08 20:48:23 [INFO] Client connected: ('127.0.0.1', 59922)
2025-08-08 20:48:23 [INFO] [('127.0.0.1', 59922)] Detected protocol: binary
2025-08-08 20:48:23 [INFO] [BINARY] Successfully parsed JSON from ('127.0.0.1', 59922)
2025-08-08 20:48:23 [INFO] Processing protocol request: py_req_handover_summary
2025-08-08 20:48:23 [INFO] Processing schedule request for position: default
2025-08-08 20:48:23 [ERROR] Validation error: Missing staff_data.staff field
2025-08-08 20:48:23 [INFO] Response logged successfully: data/schedule_response_20250808_204823.json
2025-08-08 20:48:23 [INFO] [('127.0.0.1', 59922)] Request processed successfully using binary protocol
