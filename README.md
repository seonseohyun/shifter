## shifter

# ClientAdmin

## 📌 개요
`ClientAdmin`은 **교대근무 스케줄러 시스템**의 관리자용 클라이언트 프로그램입니다.  
관리자는 본 애플리케이션을 통해 직원 및 팀 관리, 교대 근무표 작성, 근무 통계 확인, 사전 요청 반영 등을 수행할 수 있습니다.  
본 프로젝트는 **C# WPF**와 **MVVM 패턴**을 기반으로 개발되었으며, 서버(C++), DB(MariaDB)와 **TCP/IP 프로토콜**을 통해 통신합니다.

---

## 🛠 기술 스택
- **언어**: C# (.NET 8), XAML
- **프레임워크**: WPF, MVVM Community Toolkit
- **네트워크**: TCP/IP 소켓 통신
- **데이터베이스**: MariaDB (서버 측 관리)
- **서버**: C++ 기반 스케줄링 서버
- **라이브러리 및 패키지**
  - CommunityToolkit.Mvvm
  - Microsoft.Extensions.DependencyInjection
  - Newtonsoft.Json

---

## 📂 프로젝트 구조
```
ClientAdmin/
├── Enums/ # 열거형 정의 (페이지 타입 등)
├── Helpers/ # ValueConverter, UI Helper
├── Messenger/ # 페이지 전환, 데이터 전달 메시지
├── Models/ # 데이터 모델 (EmpModel, ScdModel 등)
├── Services/ # SocketManager, Session 등 서비스 클래스
├── ViewModels/ # MVVM ViewModel 클래스
├── Views/ # XAML View 페이지
├── App.xaml # 애플리케이션 진입점
├── Program.cs # 프로그램 실행 파일
└── README.md # 프로젝트 설명서
```


---

## 🚀 실행 방법
1. **서버 환경 구성**
   - C++ 기반 스케줄링 서버 실행
   - MariaDB 설정 및 초기 데이터 입력
2. **클라이언트 빌드**
   - Visual Studio 2022 이상에서 `ClientAdmin.sln` 열기
   - NuGet 패키지 복원
   - 빌드 및 실행
3. **로그인**
   - 관리자 계정 정보 입력 후 로그인
4. **기능 사용**
   - 좌측 사이드바에서 기능 페이지 이동
   - 교대 근무표 작성 및 수정, 직원 관리, 통계 조회 가능

---

## 📑 주요 기능
### 1. 직원 관리
- 직원 정보 등록, 수정, 삭제
- 직급별, 팀별 필터링

### 2. 팀/직급 관리
- 팀 생성 및 인원 배정
- 직급별 근무 가중치 설정(Soft Constraint)

### 3. 근무 스케줄 작성
- 2~4교대 근무표 자동 생성 (OR-Tools 기반)
- 법률 조건(휴게시간, 근로시간 제한) 반영
- 사전 요청(휴가, 특정 근무 제외) 반영

### 4. 직원 근무변경신청 확인
- 직원의 근무변경신청 확인가능
- 근무변경신청 반려 / 승인가능

### 5. 실시간 서버 연동
- TCP/IP를 통한 서버와의 실시간 데이터 송수신
- JSON 기반 요청/응답 프로토콜

---

## 데이터 통신 구조
```json
{
  "protocol": "login",
  "data": {
    "authority": "admin",
    "id": "admin01",
    "pw": "1234"
  }
}
```


## 페이지별 기능 매핑
```
 페이지(View)	                주요 기능	                          필요 데이터	                발생 이벤트                         
+---------------------------+----------------------------------+--------------------------+------------------------------------+
| 로그인(LoginView)         	| 관리자 로그인	                    | ID, PW                   |	로그인 요청, 로그인 성공 및 실패 처리 |
+---------------------------+----------------------------------+--------------------------+------------------------------------+
| 직원 관리(EmpView)	        | 직원 등록/수정/삭제, 필터링	       | 직원 목록, 직급 목록	     | 직원 정보 변경 이벤트                |
+---------------------------+----------------------------------+--------------------------+------------------------------------+
| 팀 관리(TeamView)	         | 팀 생성, 인원 배정	               | 팀 목록, 직원 목록        |	팀 편성 변경 이벤트                  |
+---------------------------+----------------------------------+--------------------------+------------------------------------+
| 스케줄 작성(MdfScdView)	   |교대근무표 생성/수정	               | 날짜, 교대 코드, 직원 정보 |	스케줄 생성/저장 이벤트              |
+---------------------------+----------------------------------+--------------------------+------------------------------------+
| 통계 보기(StatsView)	      |월별 근무시간, 근무 분포            |	근무 기록	통계            | 조회 이벤트                          |
+---------------------------+----------------------------------+--------------------------+------------------------------------+
```
